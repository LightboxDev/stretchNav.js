(function(e){e.fn.stretchNav=function(t){var n={},r=0,i=0,s=0,o=0,u=this,a=e(this).width(),f=e.extend({applyEnds:false,target:"li",mode:"margin",round:true,threshold:100},t);f.elements=e(this).children(f.target);e(this).contents().filter(function(){return this.nodeType===3}).remove();n[f.mode+"Left"]=0;n[f.mode+"Right"]=0;e(f.elements).css(n);e(f.elements).each(function(){s+=e(this).outerWidth();o++});r=a-s;if(!f.applyEnds){i=r/2/(o-1)}else{i=r/2/o}if(f.round){i=Math.floor(i)}n[f.mode+"Left"]="+="+i;n[f.mode+"Right"]="+="+i;e(f.elements).css(n);if(!f.applyEnds){n={};n[f.mode+"Left"]=0;e(f.elements).first().css(n);n={};n[f.mode+"Right"]=0;e(f.elements).last().css(n)}var l;e(window).resize(function(){clearTimeout(l);l=setTimeout(function(){e(u).stretchNav(t)},f.threshold)});e(window).load(function(){e(u).stretchNav(t)});return this}})(jQuery,window)